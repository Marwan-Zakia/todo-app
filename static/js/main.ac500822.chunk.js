(this["webpackJsonpclass-32-solution-todo"]=this["webpackJsonpclass-32-solution-todo"]||[]).push([[0],{283:function(e,t){},295:function(e,t){},297:function(e,t){},311:function(e,t){},313:function(e,t){},341:function(e,t){},343:function(e,t){},344:function(e,t){},349:function(e,t){},351:function(e,t){},357:function(e,t){},359:function(e,t){},378:function(e,t){},390:function(e,t){},393:function(e,t){},448:function(e,t,n){},449:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return se}));var a=n(0),c=n.n(a),s=n(15),r=n.n(s),i=n(66),o=n(7),l=(n(267),n(268),n(269),n(270),n(271),n(12)),j=n(1),u=c.a.createContext();function d(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],s=(n[1],Object(a.useState)(2)),r=Object(l.a)(s,2),i=r[0],o=(r[1],{numberOfshow:i,toggeleComplte:c});return Object(j.jsx)(u.Provider,{value:o,children:e.children})}var b=n(454),h=n(33),p=n(30),O=n.n(p),x=n(207),m=n(21),f=n(48),g=n(115),v=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],s=n[1];return{handleChange:function(e){e.persist(),s((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},handleSubmit:function(t){t&&t.preventDefault(),e(c)},values:c}},y=n(49),C=n(50),k=n(54),S=n(53),w=n(63),N=n(114),I=n.n(N),T=n(51),D=n(200),L=n.n(D),B=function(e){Object(k.a)(n,e);var t=Object(S.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(f.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"https://todo-401-401.herokuapp.com",console.log(a.state.password),e.next=5,I.a.post("".concat("https://todo-401-401.herokuapp.com","/sign-in")).set("authorization","Basic ".concat(L.a.encode("".concat(a.state.username,":").concat(a.state.password))));case 5:200===(n=e.sent).status&&(a.context.login(a.state.username,a.state.password),console.log(n.body,"response"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:""},a}return Object(C.a)(n,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w.a,{condition:this.context.loggedIn,children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:this.context.logout,children:"Log Out"})}),Object(j.jsx)(w.a,{condition:!this.context.loggedIn,children:Object(j.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(j.jsx)("input",{placeholder:"UserName",name:"username",onChange:this.handleChange}),Object(j.jsx)("input",{placeholder:"password",name:"password",onChange:this.handleChange}),Object(j.jsx)("button",{className:"btn btn-primary",children:"Log in"})]})})]})}}]),n}(c.a.Component);B.contextType=T.a;var F=B,A=n(26),P=n(40),H=n(38),z=n.n(H);function E(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)(""),s=Object(l.a)(c,2),r=(s[0],s[1]),i=Object(a.useState)(""),o=Object(l.a)(i,2),u=(o[0],o[1]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();r(e.target.password.value),n(e.target.username.value),u(e.target.role.value);var t={username:e.target.username.value,password:e.target.password.value,role:e.target.role.value};z.a.post("https://todo-401-401.herokuapp.com/signup",t).then((function(e){console.log(e)}))},children:["Username",Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"form-control",placeholder:"username",type:"text",name:"username"}),"Password",Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"form-control",placeholder:"Password",type:"password",name:"password"}),"Role",Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"form-control",placeholder:"Role",type:"text",name:"role"}),Object(j.jsx)("button",{className:"btn btn-primary",type:"submit",children:"sign up"})]})})}function R(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=function(){return c(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(P.a,{variant:"primary",onClick:function(){return c(!0)},children:"log in"}),Object(j.jsxs)(A.a,{show:n,onHide:s,children:[Object(j.jsx)(A.a.Header,{closeButton:!0,children:Object(j.jsx)(A.a.Title,{children:" log in"})}),Object(j.jsx)(A.a.Body,{children:Object(j.jsx)(F,{style:{marginTop:"20px"}})}),Object(j.jsxs)(A.a.Footer,{children:[Object(j.jsx)(P.a,{variant:"secondary",onClick:s,children:"Close"}),Object(j.jsx)(P.a,{variant:"primary",onClick:s,children:"Save Changes"})]})]})]})}function U(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=function(){return c(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(P.a,{variant:"primary",onClick:function(){return c(!0)},children:"sign up"}),Object(j.jsxs)(A.a,{show:n,onHide:s,children:[Object(j.jsx)(A.a.Header,{closeButton:!0,children:Object(j.jsx)(A.a.Title,{children:" sign up"})}),Object(j.jsx)(A.a.Body,{children:Object(j.jsx)(E,{style:{marginTop:"20px"}})}),Object(j.jsxs)(A.a.Footer,{children:[Object(j.jsx)(P.a,{variant:"secondary",onClick:s,children:"Close"}),Object(j.jsx)(P.a,{variant:"primary",onClick:s,children:"Save Changes"})]})]})]})}function J(){var e;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(b.e,{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",(e={className:"col",xs:6},Object(m.a)(e,"xs",{order:"first"}),Object(m.a)(e,"children",[Object(j.jsx)(b.e.Heading,{className:"bp3-navbar-group bp3-align-left",style:{fontSize:"1.5rem"},children:Object(j.jsx)(i.b,{style:{color:"blue",textDecoration:"none"},to:"/",children:"home"})}),Object(j.jsxs)(b.e.Heading,{className:"bp3-navbar-group bp3-align-left",style:{fontSize:"1.5rem"},children:[Object(j.jsx)(i.b,{style:{color:"blue",textDecoration:"none"},to:"/setting",children:"settings"}),Object(j.jsxs)("div",{className:"col",style:{marginLeft:"798px "},children:[Object(j.jsx)(R,{}),Object(j.jsx)(U,{})]})]})]),e))})})})})}var M=function(e){Object(k.a)(n,e);var t=Object(S.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.context.loggedIn,t=!this.props.capabilities||this.context.can(this.props.capabilities),n=e&&t;return Object(j.jsx)(w.a,{condition:n,children:this.props.children})}}]),n}(c.a.Component);M.contextType=T.a;var V=M,W=n(208);function Y(e){var t=e.handleSubmit,n=e.handleChange;return Object(j.jsx)(W.a,{interactive:!0,style:{width:"20rem",height:"20rem"},children:Object(j.jsxs)(b.c,{children:[Object(j.jsx)("h2",{children:"Add To Do Item"}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"To Do Item"}),Object(j.jsx)(b.d,{className:"bp3-intent-primary",onChange:n,name:"description",type:"text",placeholder:"Item Details"})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Assigned To"}),Object(j.jsx)(b.d,{className:"bp3-intent-primary",onChange:n,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Difficulty"}),Object(j.jsx)(b.d,{onChange:n,className:"bp3-intent-primary",defaultValue:3,type:"range",min:1,max:5,name:"difficulty"})]}),Object(j.jsx)("label",{children:Object(j.jsx)(V,{capability:"create",children:Object(j.jsx)(b.a,{onClick:t,className:"bp3-intent-primary",type:"submit",children:"Add Item"})})})]})})}var q=n(455),G=n(204),K=n.n(G);n(448),n(68);var Q=n(64),X=n.n(Q),Z=z.a.create({baseURL:"https://todo-401-401.herokuapp.com/api/todos",headers:{Authorization:"bearer ".concat(X.a.load("auth"))}});function $(e){var t=e.toggleComplete,n=e.list,c=e.deleteItem,s=Object(a.useContext)(u),r=Object(a.useState)(0),i=Object(l.a)(r,2),o=i[0],d=i[1],p=s.numberOfshow,O=o*p,x=n.slice(O,O+p).map((function(e){return Object(j.jsx)(V,{capability:"read",children:Object(j.jsx)("div",{style:{width:"650px",margin:"15px"},children:Object(j.jsxs)(b.b,{interactive:!0,elevation:h.a.TWO,children:[Object(j.jsx)("p",{children:e.description}),Object(j.jsx)("p",{children:Object(j.jsxs)("small",{children:["Assigned to: ",e.assignee]})}),Object(j.jsx)("p",{children:Object(j.jsxs)("small",{children:["Difficulty: ",e.difficulty]})}),Object(j.jsx)(V,{capability:"update",children:Object(j.jsxs)(b.a,{className:"bp3-intent-success",onClick:function(){Z.put("/".concat(e.id),{completed:!e.completed}).then((function(e){console.log(e.data)})),t(e.id)},children:["Complete: ",e.completed?"Yes":"No"]})}),Object(j.jsx)(V,{capability:"delete",children:Object(j.jsxs)(b.a,{className:"bp3-intent-danger",onClick:function(){return c(e.id)},children:["Delete ",null===e||void 0===e?void 0:e.complete]})})]})},e.id)})})),m=Math.ceil(n.length/p);return Object(j.jsxs)(j.Fragment,{children:[x,Object(j.jsx)(V,{capability:"read",children:Object(j.jsx)(K.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:m,onPageChange:function(e){var t=e.selected;d(t)},containerClassName:"paginationBttns",previousLinkClassName:"previousBttn",nextLinkClassName:"nextBttn",disabledClassName:"paginationDisabled",activeClassName:"paginationActive"})})]})}var _=n(205),ee=n(81),te=n(206),ne=function(){var e,t,n=Object(a.useState)([]),c=Object(l.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)([]),o=Object(l.a)(i,2),u=o[0],d=o[1],b=v((function(e){return g.apply(this,arguments)})),h=b.handleChange,p=b.handleSubmit;function g(){return(g=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=Object(q.a)(),t.complete=!1,e.next=4,Z.post("/",t).then((function(e){console.log(e)}));case 4:r([].concat(Object(x.a)(s),[t]));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=s.filter((function(e){return!e.completed})).length;d(e),document.title="To Do List: ".concat(u)}),[s]),Object(a.useEffect)((function(){Z.get("/").then((function(e){r(e.data)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h1",{children:[" To Do List: ",u," items pending"]}),Object(j.jsx)(_.a,{fluid:"md",children:Object(j.jsxs)(te.a,{children:[Object(j.jsx)(ee.a,(e={xs:4},Object(m.a)(e,"xs",{order:"first"}),Object(m.a)(e,"children",Object(j.jsx)(V,{children:Object(j.jsx)(Y,{handleSubmit:p,handleChange:h})})),e)),Object(j.jsx)(ee.a,(t={xs:4},Object(m.a)(t,"xs",{order:"last"}),Object(m.a)(t,"children",Object(j.jsx)(V,{children:Object(j.jsx)($,{incomplete:u,toggleComplete:function(e){var t=s.map((function(t){return t.id===e&&(t.completed=!t.completed),t}));r(t)},list:s,deleteItem:function(e){r(s.filter((function(t){return t.id!==e}))),Z.delete("/".concat(e)).then((function(e){}))}})})),t))]})})]})};function ae(){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"toDo",children:Object(j.jsx)(b.b,{interactive:!0,elevation:h.a.TWO,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){localStorage.setItem("settings",JSON.stringify(e))}({display:e.target.disply.value,numberOfItem:e.target.numberOfItem.value}),e.target.reset(),window.location.href="/"},children:[Object(j.jsx)("h2",{children:" Settings Tab"}),Object(j.jsx)(b.c,{label:"show completed tasks",labelFor:"disply",children:Object(j.jsxs)("select",{name:"disply",dir:"auto",className:"bp3-input .modifier",children:[Object(j.jsx)("option",{value:!0,children:"true"}),Object(j.jsx)("option",{value:!1,children:"false"})]})}),Object(j.jsx)(b.c,{label:"Number of cards ",labelFor:"assignee",children:Object(j.jsx)("input",{className:"bp3-input .modifier",name:"numberOfItem",type:"text",placeholder:"Assignee Name",dir:"auto"})}),Object(j.jsx)("br",{}),Object(j.jsx)(b.a,{type:"submit",children:"Add Item"})]})})})})}function ce(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)(T.b,{children:[Object(j.jsx)(J,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/setting",element:Object(j.jsx)(V,{children:Object(j.jsx)(d,{children:Object(j.jsx)(ae,{})})})}),Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(V,{children:Object(j.jsx)(d,{children:Object(j.jsx)(ne,{})})})})]})]})})}function se(){return Object(j.jsx)(ce,{})}var re=document.getElementById("root");r.a.render(Object(j.jsx)(se,{}),re)},51:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(30),c=n.n(a),s=n(48),r=n(49),i=n(50),o=n(54),l=n(53),j=n(0),u=n.n(j),d=n(64),b=n.n(d),h=n(199),p=n.n(h),O=n(38),x=n.n(O),m=n(1),f=u.a.createContext(),g=function(t){Object(o.a)(a,t);var n=Object(l.a)(a);function a(t){var i;return Object(r.a)(this,a),(i=n.call(this,t)).can=function(e){var t,n;return null===(t=i.state.user)||void 0===t||null===(n=t.capabilities)||void 0===n?void 0:n.includes(e)},i.login=function(){var t=Object(s.a)(c.a.mark((function t(n,a){var s,r,o,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=e.from("".concat(n,":").concat(a)).toString("base64"),r="Basic ".concat(s),"",o={method:"post",url:"https://todo-401-401.herokuapp.com/sign-in",headers:{Authorization:r},data:""},t.next=7,x()(o);case 7:l=t.sent,i.setState({token:l.data.token,loggedIn:!0,user:l.data.username,capabilities:l.data.capabilities}),i.validateToken(l.data.token),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}(),i.logout=function(){i.setLoginState(!1,null,{})},i.validateToken=function(e){try{var t=p.a.verify(e,"secret");i.setLoginState(!0,e,t)}catch(n){i.setLoginState(!1,null,{}),console.log("Token Validation Error",n)}},i.setLoginState=function(e,t,n){b.a.save("auth",t),i.setState({token:t,loggedIn:e,user:n})},i.state={loggedIn:!1,can:i.can,login:i.login,logout:i.logout,user:{capabilities:[]}},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search),t=b.a.load("auth"),n=e.get("token")||t||null;this.validateToken(n)}},{key:"render",value:function(){return Object(m.jsx)(f.Provider,{value:this.state,children:this.props.children})}}]),a}(u.a.Component);t.b=g}).call(this,n(13).Buffer)}},[[449,1,2]]]);
//# sourceMappingURL=main.ac500822.chunk.js.map