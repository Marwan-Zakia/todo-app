(this["webpackJsonpclass-32-solution-todo"]=this["webpackJsonpclass-32-solution-todo"]||[]).push([[0],{283:function(e,t){},295:function(e,t){},297:function(e,t){},311:function(e,t){},313:function(e,t){},341:function(e,t){},343:function(e,t){},344:function(e,t){},349:function(e,t){},351:function(e,t){},357:function(e,t){},359:function(e,t){},378:function(e,t){},390:function(e,t){},393:function(e,t){},448:function(e,t,n){},449:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ne}));var a=n(0),c=n.n(a),s=n(15),r=n.n(s),i=n(63),o=n(7),l=(n(267),n(268),n(269),n(270),n(271),n(12)),j=n(1),u=c.a.createContext();function b(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(2),i=Object(l.a)(r,2),o=i[0],b=i[1],d={numberOfshow:o,toggeleComplte:c};return Object(a.useEffect)((function(){var e=localStorage.getItem("settings"),t=JSON.parse(e);t&&(s(t.numberOfshow),b(Number(t.numberOfItem)))}),[]),Object(j.jsx)(u.Provider,{value:d,children:e.children})}var d=n(454),h=n(32),O=n(20),p=n(207),m=n(114),x=function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],s=n[1];return{handleChange:function(e){e.persist(),s((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(O.a)({},e.target.name,e.target.value))}))},handleSubmit:function(t){t&&t.preventDefault(),e(c)},values:c}},f=n(52),g=n.n(f),v=n(78),y=n(46),C=n(47),S=n(51),N=n(50),k=n(61),w=n(113),I=n.n(w),T=n(48),D=n(200),L=n.n(D),B=function(e){Object(S.a)(n,e);var t=Object(N.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.handleSubmit=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"https://todo-401-401.herokuapp.com",console.log(a.state.password),e.next=5,I.a.post("".concat("https://todo-401-401.herokuapp.com","/sign-in")).set("authorization","Basic ".concat(L.a.encode("".concat(a.state.username,":").concat(a.state.password))));case 5:200===(n=e.sent).status&&(a.context.login(a.state.username,a.state.password),console.log(n.body,"response"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:""},a}return Object(C.a)(n,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(k.a,{condition:this.context.loggedIn,children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:this.context.logout,children:"Log Out"})}),Object(j.jsx)(k.a,{condition:!this.context.loggedIn,children:Object(j.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(j.jsx)("input",{placeholder:"UserName",name:"username",onChange:this.handleChange}),Object(j.jsx)("input",{placeholder:"password",name:"password",onChange:this.handleChange}),Object(j.jsx)("button",{className:"btn btn-primary",children:"Log in"})]})})]})}}]),n}(c.a.Component);B.contextType=T.a;var F=B,A=n(26),P=n(38),H=n(79),z=n.n(H);function E(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)(""),s=Object(l.a)(c,2),r=(s[0],s[1]),i=Object(a.useState)(""),o=Object(l.a)(i,2),u=(o[0],o[1]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();r(e.target.password.value),n(e.target.username.value),u(e.target.role.value);var t={username:e.target.username.value,password:e.target.password.value,role:e.target.role.value};z.a.post("https://todo-401-401.herokuapp.com/signup",t).then((function(e){console.log(e)}))},children:["Username",Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"form-control",placeholder:"username",type:"text",name:"username"}),"Password",Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"form-control",placeholder:"Password",type:"password",name:"password"}),"Role",Object(j.jsx)("br",{}),Object(j.jsx)("input",{className:"form-control",placeholder:"Role",type:"text",name:"role"}),Object(j.jsx)("button",{className:"btn btn-primary",type:"submit",children:"sign up"})]})})}function J(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=function(){return c(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(P.a,{variant:"primary",onClick:function(){return c(!0)},children:"log in"}),Object(j.jsxs)(A.a,{show:n,onHide:s,children:[Object(j.jsx)(A.a.Header,{closeButton:!0,children:Object(j.jsx)(A.a.Title,{children:" log in"})}),Object(j.jsx)(A.a.Body,{children:Object(j.jsx)(F,{style:{marginTop:"20px"}})}),Object(j.jsxs)(A.a.Footer,{children:[Object(j.jsx)(P.a,{variant:"secondary",onClick:s,children:"Close"}),Object(j.jsx)(P.a,{variant:"primary",onClick:s,children:"Save Changes"})]})]})]})}function R(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=function(){return c(!1)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(P.a,{variant:"primary",onClick:function(){return c(!0)},children:"sign up"}),Object(j.jsxs)(A.a,{show:n,onHide:s,children:[Object(j.jsx)(A.a.Header,{closeButton:!0,children:Object(j.jsx)(A.a.Title,{children:" sign up"})}),Object(j.jsx)(A.a.Body,{children:Object(j.jsx)(E,{style:{marginTop:"20px"}})}),Object(j.jsxs)(A.a.Footer,{children:[Object(j.jsx)(P.a,{variant:"secondary",onClick:s,children:"Close"}),Object(j.jsx)(P.a,{variant:"primary",onClick:s,children:"Save Changes"})]})]})]})}function U(){var e,t;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.e,{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",(t={className:"col",xs:6},Object(O.a)(t,"xs",{order:"first"}),Object(O.a)(t,"children",[Object(j.jsx)(d.e.Heading,{className:"bp3-navbar-group bp3-align-left",style:{fontSize:"1.5rem"},children:Object(j.jsx)(i.b,{style:{color:"blue"},to:"/",children:"home"})}),Object(j.jsxs)(d.e.Heading,{className:"bp3-navbar-group bp3-align-left",style:{fontSize:"1.5rem"},children:[Object(j.jsx)(i.b,{style:{color:"blue"},to:"/setting",children:"settings"}),Object(j.jsxs)("div",(e={className:"col",xs:6},Object(O.a)(e,"xs",{order:"last"}),Object(O.a)(e,"children",[Object(j.jsx)(J,{}),Object(j.jsx)(R,{})]),e))]})]),t))})})})})}var M=function(e){Object(S.a)(n,e);var t=Object(N.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.context.loggedIn,t=!this.props.capabilities||this.context.can(this.props.capabilities),n=e&&t;return Object(j.jsx)(k.a,{condition:n,children:this.props.children})}}]),n}(c.a.Component);M.contextType=T.a;var V=M,W=n(208);function q(e){var t=e.handleSubmit,n=e.handleChange;return Object(j.jsx)(W.a,{interactive:!0,style:{width:"20rem",height:"20rem"},children:Object(j.jsxs)(d.c,{children:[Object(j.jsx)("h2",{children:"Add To Do Item"}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"To Do Item"}),Object(j.jsx)(d.d,{className:"bp3-intent-primary",onChange:n,name:"text",type:"text",placeholder:"Item Details"})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Assigned To"}),Object(j.jsx)(d.d,{className:"bp3-intent-primary",onChange:n,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("span",{children:"Difficulty"}),Object(j.jsx)(d.d,{onChange:n,className:"bp3-intent-primary",defaultValue:3,type:"range",min:1,max:5,name:"difficulty"})]}),Object(j.jsx)("label",{children:Object(j.jsx)(V,{capability:"create",children:Object(j.jsx)(d.a,{onClick:t,className:"bp3-intent-primary",type:"submit",children:"Add Item"})})})]})})}var G=n(455),K=n(204),Q=n.n(K);n(448),n(65);function X(e){var t=e.toggleComplete,n=e.list,c=e.deleteItem,s=Object(a.useContext)(u),r=Object(a.useState)(0),i=Object(l.a)(r,2),o=i[0],b=i[1],O=s.numberOfshow,p=o*O,m=n.slice(p,p+O).map((function(e){return Object(j.jsx)(V,{capability:"read",children:Object(j.jsx)("div",{style:{width:"650px",margin:"15px"},children:Object(j.jsxs)(d.b,{interactive:!0,elevation:h.a.TWO,children:[Object(j.jsx)("p",{children:e.text}),Object(j.jsx)("p",{children:Object(j.jsxs)("small",{children:["Assigned to: ",e.assignee]})}),Object(j.jsx)("p",{children:Object(j.jsxs)("small",{children:["Difficulty: ",e.difficulty]})}),Object(j.jsx)(V,{capability:"update",children:Object(j.jsxs)(d.a,{className:"bp3-intent-success",onClick:function(){return t(e.id)},children:["Complete: ",e.complete.toString()]})}),Object(j.jsx)(V,{capability:"delete",children:Object(j.jsxs)(d.a,{className:"bp3-intent-danger",onClick:function(){return c(e.id)},children:["Delete: ",e.complete.toString()]})})]})},e.id)})})),x=Math.ceil(n.length/O);return Object(j.jsxs)(j.Fragment,{children:[m,Object(j.jsx)(V,{capability:"read",children:Object(j.jsx)(Q.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:x,onPageChange:function(e){var t=e.selected;b(t)},containerClassName:"paginationBttns",previousLinkClassName:"previousBttn",nextLinkClassName:"nextBttn",disabledClassName:"paginationDisabled",activeClassName:"paginationActive"})})]})}var Y=n(205),Z=n(80),$=n(206),_=function(){var e,t,n=Object(a.useState)([]),c=Object(l.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)([]),o=Object(l.a)(i,2),u=o[0],b=o[1],d=x((function(e){e.id=Object(G.a)(),e.complete=!1,r([].concat(Object(p.a)(s),[e]))})),h=d.handleChange,m=d.handleSubmit;return Object(a.useEffect)((function(){var e=s.filter((function(e){return!e.complete})).length;b(e),document.title="To Do List: ".concat(u)}),[s]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("h1",{children:[" To Do List: ",u," items pending"]}),Object(j.jsx)(Y.a,{fluid:"md",children:Object(j.jsxs)($.a,{children:[Object(j.jsx)(Z.a,(e={xs:4},Object(O.a)(e,"xs",{order:"first"}),Object(O.a)(e,"children",Object(j.jsx)(V,{children:Object(j.jsx)(q,{handleSubmit:m,handleChange:h})})),e)),Object(j.jsx)(Z.a,(t={xs:4},Object(O.a)(t,"xs",{order:"last"}),Object(O.a)(t,"children",Object(j.jsx)(V,{children:Object(j.jsx)(X,{incomplete:u,toggleComplete:function(e){var t=s.map((function(t){return t.id==e&&(t.complete=!t.complete),t}));r(t)},list:s,deleteItem:function(e){var t=s.filter((function(t){return t.id!==e}));r(t)}})})),t))]})})]})};function ee(){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"toDo",children:Object(j.jsx)(d.b,{interactive:!0,elevation:h.a.TWO,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){localStorage.setItem("settings",JSON.stringify(e))}({display:e.target.disply.value,numberOfItem:e.target.numberOfItem.value}),e.target.reset(),window.location.href="/"},children:[Object(j.jsx)("h2",{children:" Settings Tab"}),Object(j.jsx)(d.c,{label:"show completed tasks",labelFor:"disply",children:Object(j.jsxs)("select",{name:"disply",dir:"auto",className:"bp3-input .modifier",children:[Object(j.jsx)("option",{value:!0,children:"true"}),Object(j.jsx)("option",{value:!1,children:"false"})]})}),Object(j.jsx)(d.c,{label:"Number of cards ",labelFor:"assignee",children:Object(j.jsx)("input",{className:"bp3-input .modifier",name:"numberOfItem",type:"text",placeholder:"Assignee Name",dir:"auto"})}),Object(j.jsx)("br",{}),Object(j.jsx)(d.a,{type:"submit",children:"Add Item"})]})})})})}function te(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)(T.b,{children:[Object(j.jsx)(U,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/setting",element:Object(j.jsx)(V,{children:Object(j.jsx)(b,{children:Object(j.jsx)(ee,{})})})}),Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(V,{children:Object(j.jsx)(b,{children:Object(j.jsx)(_,{})})})})]})]})})}function ne(){return Object(j.jsx)(te,{})}var ae=document.getElementById("root");r.a.render(Object(j.jsx)(ne,{}),ae)},48:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(52),c=n.n(a),s=n(78),r=n(46),i=n(47),o=n(51),l=n(50),j=n(0),u=n.n(j),b=n(115),d=n.n(b),h=n(199),O=n.n(h),p=n(79),m=n.n(p),x=n(1),f=u.a.createContext(),g=function(t){Object(o.a)(a,t);var n=Object(l.a)(a);function a(t){var i;return Object(r.a)(this,a),(i=n.call(this,t)).can=function(e){var t,n;return null===(t=i.state.user)||void 0===t||null===(n=t.capabilities)||void 0===n?void 0:n.includes(e)},i.login=function(){var t=Object(s.a)(c.a.mark((function t(n,a){var s,r,o,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=e.from("".concat(n,":").concat(a)).toString("base64"),r="Basic ".concat(s),"",o={method:"post",url:"https://todo-401-401.herokuapp.com/sign-in",headers:{Authorization:r},data:""},t.next=7,m()(o);case 7:l=t.sent,i.setState({token:l.data.token,loggedIn:!0,user:l.data.username,capabilities:l.data.capabilities}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}(),i.logout=function(){i.setLoginState(!1,null,{})},i.validateToken=function(e){try{var t=O.a.verify(e,"secret");i.setLoginState(!0,e,t)}catch(n){i.setLoginState(!1,null,{}),console.log("Token Validation Error",n)}},i.setLoginState=function(e,t,n){d.a.save("auth",t),i.setState({token:t,loggedIn:e,user:n})},i.state={loggedIn:!1,can:i.can,login:i.login,logout:i.logout,user:{capabilities:[]}},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search),t=d.a.load("auth"),n=e.get("token")||t||null;this.validateToken(n)}},{key:"render",value:function(){return Object(x.jsx)(f.Provider,{value:this.state,children:this.props.children})}}]),a}(u.a.Component);t.b=g}).call(this,n(13).Buffer)}},[[449,1,2]]]);
//# sourceMappingURL=main.01f3c817.chunk.js.map